<!-- Creator     : groff version 1.21 -->
<!-- CreationDate: Mon Dec 12 13:48:52 2011 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>VOTEQUORUM_LEAVING</title>

</head>
<body>

<h1 align="center">VOTEQUORUM_LEAVING</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#RETURN VALUE">RETURN VALUE</a><br>
<a href="#ERRORS">ERRORS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">votequorum_leaving
&minus; Tell other nodes that we are leaving the cluster</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;corosync/votequorum.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
votequorum_leaving(votequorum_handle_t</b>
<i>handle</i><b>);</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>votequorum_leaving</b> function is used to tell the other
nodes in the cluster that this node is leaving. They will
(when the node actually leaves) reduce quorum to keep the
cluster running without this node.</p>

<p style="margin-left:11%; margin-top: 1em">This function
should only be called if it is known that the node is being
shut down for a known reason and could be out of the cluster
for an extended period of time.</p>

<p style="margin-left:11%; margin-top: 1em">Normal
behaviour is for the cluster to reduce the total number of
votes, but NOT expected_votes when a node leave the cluster,
so the cluster could become inquorate. This is correct
behaviour and is ther eto prevent split-brain.</p>

<p style="margin-left:11%; margin-top: 1em">Do NOT call
this function unless you know what you are doing.</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This call
returns the CS_OK value if successful, otherwise an error is
returned.</p>

<h2>ERRORS
<a name="ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The errors are
undocumented.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>votequorum_overview</b>(8),
<b>votequorum_initialize</b>(3),
<b>votequorum_finalize</b>(3),
<b>votequorum_dispatch</b>(3),
<b>votequorum_fd_get</b>(3),</p>
<hr>
</body>
</html>
