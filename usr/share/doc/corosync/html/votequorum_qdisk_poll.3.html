<!-- Creator     : groff version 1.21 -->
<!-- CreationDate: Mon Dec 12 13:48:52 2011 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>VOTEQUORUM_QDISK_POLL</title>

</head>
<body>

<h1 align="center">VOTEQUORUM_QDISK_POLL</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#RETURN VALUE">RETURN VALUE</a><br>
<a href="#ERRORS">ERRORS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">votequorum_qdisk_poll
&minus; Tells votequorum the result of the quorum device
poll</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;corosync/votequorum.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
votequorum_qdisk_poll(votequorum_handle_t</b>
<i>handle</i><b>, unsigned int</b> <i>state</i><b>);</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>votequorum_qdisk_poll</b> is called by the quorum device
subsyetem (not provided as part of votequorum) to tell the
voting system if the qurum device is present/active or not.
If <b>state</b> is 1 then the votes for the device are
included in the quorum calculation, otherwise not. This
routine should be called at regular intervals to ensure that
the device status is always known to votequorum. If
<b>votequorum_qdisk_poll</b> is not called after (default)
10 seconds then the device will be deeded to be dead and its
votes removed from the cluster. This does not unregister the
device. The default poll time can be changed by setting the
object database variable quorum.quorumdev_poll.</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This call
returns the CS_OK value if successful, otherwise an error is
returned.</p>

<h2>ERRORS
<a name="ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The errors are
undocumented.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>votequorum_overview</b>(8),
<b>votequorum_initialize</b>(3),
<b>votequorum_finalize</b>(3),
<b>votequorum_dispatch</b>(3), <b>votequorum_fd_get</b>(3),
<b>votequorum_qdisk_poll</b>(3),
<b>votequorum_qdisk_unregister</b>(3),
<b>votequorum_qdisk_getinfo</b>(3),</p>
<hr>
</body>
</html>
